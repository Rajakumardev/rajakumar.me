---
title: 'How to create your first npm module using vitejs?'
date: '2023-10-30'
featuredImage: https://res.cloudinary.com/duvd47099/image/upload/v1698674964/personal-site/ccr2n1hw7afzbmd9a3jx.webp
metaDescription: 'Learn about the basics of building and packing a npm module or any javascript library with vitejs.'
---

![How to create your first npm module using vitejs? - Rajakumar](https://res.cloudinary.com/duvd47099/image/upload/v1698674964/personal-site/ccr2n1hw7afzbmd9a3jx.webp)

Hello, I have been busy writing couple of NPM modules at my job recently and OMG it taught me lot of thinks about authoring NPM modules.

> Build systems are complicated i will try my best to explain everything

## What is a build tool?

There are several build tools available but we are going to use `vitejs` another famous build tool is webpack (i will write a separate post about this later). A build tool can automate following things.

- Bundle your code based on the configuration.
- Make your code run in multiple environments like `nodejs` or simply browser.
- Split your code into multiple parts or chunks so that it can be loaded optimally during the run time.
- Minify your code by removing unnecessary spaces, comments and tree shaking.

## Setting up the project

Run the following command to create a new vite project with default files and folder.

```
npm create vite@latest
```

This will prompt the message "Need to install the following packages:" with `create-vite@x.x.x`.
Press enter to proceed and then it will ask the following questions.

- Project Name: ðŸ ’ Give a name
- Select a framework : ðŸ ’ select Vanilla
- Select a Variant: ðŸ ’ select javascript for now

Now `cd` into the project folder and run `npm install` to install all the dependencies.

## Cleaning up the default template

Now The default project generated by vite is vanilajs web project we want a library setup so lets clean it up.

Let start with folder structure. create a `src` folder where we are going to write all the library code.

Delete the `main.js` and `counter.js` files but keep the `index.html` file we will use this later to test the code.

## Writing basic configuration.

To write configuration we need to create the configuration file first, in the root folder create the vite config file with name `vite.config.js` and content below.

```
import { defineConfig } from "vite";
import { resolve } from 'path';


export default defineConfig({
    build: {
        lib: {
            entry: resolve(__dirname, "src/index.ts"),
            name: 'ViteLib',
            fileName: 'ViteLib',
            formats: ['umd', 'es']
        }
    }
});
```

Let's go throught the config

- `entry` is the main file. (we will create this file later)
- `name` is the name of the main function or class.
- `fileName` is the name of the generated file.
- `formats` is the list of formats to build.

## Setting up the test environment

## Codes splitting.

## other options

## Conclusion

This is a very basic API in production / real-time projects there will be more endpoints and more integrations like a database to store user data or a mail server integration to send mail to users.

I will write more expressjs articles like this one with more advanced concepts. if you want to follow along please drop a follow.
